<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Transformer - AstraZeneca</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 py-4">
            <div class="flex items-center">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-blue-600 rounded flex items-center justify-center">
                        <span class="text-white font-bold text-sm">AZ</span>
                    </div>
                    <h1 class="text-xl font-semibold text-gray-900">HTML Transformer</h1>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 py-6">
        <!-- Upload Section -->
        <div id="upload-section" class="mb-6">
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-lg font-medium text-gray-900 mb-4">Upload HTML File</h2>

                <!-- Drag & Drop Area -->
                <div id="drop-zone"
                    class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors cursor-pointer">
                    <div class="space-y-2">
                        <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none"
                            viewBox="0 0 48 48">
                            <path
                                d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        <div class="text-gray-600">
                            <span class="font-medium text-blue-600 hover:text-blue-500">Click to upload</span>
                            or drag and drop
                        </div>
                        <p class="text-sm text-gray-500">HTML files only (.html, .htm)</p>
                    </div>
                    <input type="file" id="file-input" class="hidden" accept=".html,.htm">
                </div>

                <!-- Upload Progress -->
                <div id="upload-progress" class="hidden mt-4">
                    <div class="bg-blue-50 border border-blue-200 rounded-md p-3">
                        <div class="flex items-center">
                            <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"></div>
                            <span class="text-sm text-blue-700">Processing file...</span>
                        </div>
                    </div>
                </div>

                <!-- File Info -->
                <div id="file-info" class="hidden mt-4 p-3 bg-green-50 border border-green-200 rounded-md">
                    <div class="flex items-center">
                        <svg class="h-4 w-4 text-green-400 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                clip-rule="evenodd"></path>
                        </svg>
                        <span id="file-name" class="text-sm text-green-700 font-medium"></span>
                        <span id="file-size" class="text-sm text-green-600 ml-2"></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Configuration Section -->
        <div id="config-section" class="hidden mb-6">
            <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-lg font-medium text-gray-900">Transformation Options</h2>
                    <div class="flex space-x-2">
                        <button id="preset-save"
                            class="px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200">Save
                            Preset</button>
                        <button id="preset-load"
                            class="px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200">Load
                            Preset</button>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Target Type -->
                    <div class="space-y-3">
                        <label class="flex items-center">
                            <input type="checkbox" id="enable-target"
                                class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm font-medium text-gray-700">Target Type</span>
                        </label>
                        <select id="target-type"
                            class="disabled:opacity-50 disabled:cursor-not-allowed block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
                            disabled>
                            <option value="HCP">HCP (Healthcare Professional)</option>
                            <option value="DTC">DTC (Direct to Consumer)</option>
                        </select>
                    </div>

                    <!-- Browser Version -->
                    <div class="space-y-3">
                        <label class="flex items-center">
                            <input type="checkbox" id="enable-browser"
                                class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm font-medium text-gray-700">Browser Version Handling</span>
                        </label>
                        <p class="text-sm text-gray-500">Updates anchor links with "Browser version" text or title</p>
                    </div>

                    <!-- Unsubscribe Links -->
                    <div class="space-y-3">
                        <label class="flex items-center">
                            <input type="checkbox" id="enable-unsubscribe"
                                class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm font-medium text-gray-700">Unsubscribe Link Handling</span>
                        </label>
                        <div id="unsubscribe-options" class="hidden pl-6 space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" id="bold-footer"
                                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span class="ml-2 text-sm text-gray-600">Bold footer (HCP only)</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="no-underline-header"
                                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span class="ml-2 text-sm text-gray-600">No underline header (HCP only)</span>
                            </label>
                        </div>
                    </div>

                    <!-- Personalization -->
                    <div class="space-y-3">
                        <label class="flex items-center">
                            <input type="checkbox" id="enable-personalization"
                                class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm font-medium text-gray-700">Personalization Handling</span>
                        </label>
                        <div id="personalization-options" class="hidden pl-6 space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" id="include-title"
                                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span class="ml-2 text-sm text-gray-600">Include Title/Salutation</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="include-firstname"
                                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span class="ml-2 text-sm text-gray-600">Include First Name</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="include-lastname"
                                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span class="ml-2 text-sm text-gray-600">Include Last Name</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex items-center justify-between mt-6 pt-4 border-t border-gray-200">
                    <div class="flex space-x-3">
                        <button id="apply-btn"
                            class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed">
                            Apply Transformations
                        </button>
                        <button id="reset-btn"
                            class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2">
                            Reset All
                        </button>
                    </div>
                    <button id="undo-btn"
                        class="hidden px-4 py-2 bg-yellow-100 text-yellow-700 rounded-md hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2">
                        Undo Changes
                    </button>
                </div>
            </div>
        </div>

        <!-- Preview Section -->
        <div id="preview-section" class="hidden">
            <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-lg font-medium text-gray-900">Preview</h2>
                    <div class="flex items-center space-x-3">
                        <div class="flex items-center space-x-2">
                            <label class="text-sm text-gray-600">Zoom:</label>
                            <select id="zoom-level" class="text-sm border-gray-300 rounded">
                                <option value="0.5">50%</option>
                                <option value="0.75">75%</option>
                                <option value="1" selected>100%</option>
                                <option value="1.25">125%</option>
                                <option value="1.5">150%</option>
                            </select>
                        </div>
                        <button id="download-btn"
                            class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2">
                            Download HTML
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                    <!-- Original Preview -->
                    <div class="border rounded-lg">
                        <div class="bg-gray-50 px-3 py-2 border-b">
                            <h3 class="text-sm font-medium text-gray-700">Original</h3>
                        </div>
                        <div class="p-4">
                            <iframe id="original-preview" class="w-full h-96 border-0 bg-white"
                                sandbox="allow-same-origin"></iframe>
                        </div>
                    </div>

                    <!-- Modified Preview -->
                    <div class="border rounded-lg">
                        <div class="bg-gray-50 px-3 py-2 border-b">
                            <h3 class="text-sm font-medium text-gray-700">Modified</h3>
                        </div>
                        <div class="p-4">
                            <iframe id="modified-preview" class="w-full h-96 border-0 bg-white"
                                sandbox="allow-same-origin"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifications -->
        <div id="notifications" class="fixed top-4 right-4 space-y-2 z-50"></div>
    </main>

    <script src="js/utils.js"></script>
    <script src="js/transforms.js"></script>
    <!-- <script src="js/app.js"></script> -->
    <script src="js/app-strings.js"></script>
    <script src="js/utils-string.js"></script> <!-- NEW -->
    <script src="js/transforms-string.js"></script> <!-- NEW -->
</body>

</html>